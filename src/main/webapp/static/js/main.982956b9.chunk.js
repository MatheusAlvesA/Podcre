(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(20)},15:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var o=t(0),s=t.n(o),n=t(8),l=t.n(n),i=(t(15),t(2)),r=t(3),c=t(6),m=t(4),d=t(5),u=t(1),p=function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=s.a.createElement("button",{className:"btn btn-outline-success ml-auto d-block","data-toggle":"modal","data-target":"#cadastrarModal"},"Cadastrar");return!0===this.props.logado&&(e=null),s.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},s.a.createElement("h2",{id:"tituloNavBar",className:"d-none d-md-block"},"Podcr\xea",s.a.createElement("small",{className:"text-muted",id:"versionNavbar"}," Alpha")),e)}}]),a}(o.Component),h=window.$,b=function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(c.a)(this,Object(m.a)(a).call(this))).state={nome:"",senha:""},e}return Object(d.a)(a,e),Object(r.a)(a,[{key:"submeter",value:function(){h.ajax({url:"https://podcre-223420.appspot.com/api/Login",data:JSON.stringify(this.state),type:"POST",success:this.sucesso.bind(this),error:this.erro.bind(this)})}},{key:"sucesso",value:function(e){void 0!==this.props.callbackSucesso&&null!==this.props.callbackSucesso&&this.props.callbackSucesso(this.state.nome)}},{key:"erro",value:function(e){h("#mensagemErro").css("display","block"),setTimeout(function(){h("#mensagemErro").css("display","none")},2e3),void 0!==this.props.callbackErro&&null!==this.props.callbackErro&&this.props.callbackErro(e)}},{key:"watcher",value:function(){this.setState({nome:h("#inputNome").val()}),this.setState({senha:h("#inputSenha").val()})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("form",{id:"formLogin"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputNome"},"Login"),s.a.createElement("input",{type:"text",onChange:this.watcher.bind(this),className:"form-control",id:"inputNome",placeholder:"Nome de usu\xe1rio"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputSenha"},"Senha"),s.a.createElement("input",{type:"password",onChange:this.watcher.bind(this),className:"form-control",id:"inputSenha",placeholder:"Senha"}))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{onClick:this.submeter.bind(this),className:"btn btn-primary offset-6 col-5"},"Logar")),s.a.createElement("div",{className:"row",id:"mensagemErro",style:{display:"none",marginTop:"5px"}},s.a.createElement("div",{className:"alert alert-danger col-10 offset-1",role:"alert"},"Falha no login")))}}]),a}(o.Component),v=window.$,f=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={nome:"Carregando...",urlImg:""},t.getDados(),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"logout",value:function(){v.ajax({url:"https://podcre-223420.appspot.com/api/Login",type:"DELETE",success:this.props.callbackLogout,error:function(){}})}},{key:"getDados",value:function(){v.ajax({url:"https://podcre-223420.appspot.com/api/user?nome="+this.props.nome,type:"GET",success:this.preencher.bind(this),error:function(){}})}},{key:"preencher",value:function(e){e=e.data,this.setState({nome:this.props.nome}),this.setState({urlImg:"https://podcre-223420.appspot.com/api/getFile?cod="+e.imagem_blob})}},{key:"render",value:function(){return s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement("img",{src:this.state.urlImg,style:{width:"50%",cursor:"pointer"},className:"img-thumbnail",alt:"Imagem de perfil","data-toggle":"modal","data-target":"#setarImagem"}),s.a.createElement("h4",null,this.state.nome),s.a.createElement("div",{className:"row"},s.a.createElement("button",{onClick:this.logout.bind(this),className:"btn btn-outline-danger offset-6 col-5"},"Logout")))}}]),a}(o.Component),E=window.$,g=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={logado:!1,nome:""},t.setLogado=t.setLogado.bind(Object(u.a)(Object(u.a)(t))),t.checarLogado=t.checarLogado.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.checarLogado()}},{key:"loginFeito",value:function(e){this.setState({nome:e}),this.setLogado(!0)}},{key:"checarLogado",value:function(){var e=this;E.ajax({url:"https://podcre-223420.appspot.com/api/Login",type:"GET",success:function(a){e.setState({nome:a.nome}),e.setLogado(!0)},error:function(a){e.setLogado(!1)}})}},{key:"setLogado",value:function(e){e?(this.setState({logado:!0}),void 0!==this.props.callbackLogado&&null!==this.props.callbackLogado&&this.props.callbackLogado(this.state.nome)):(this.setState({logado:!1}),void 0!==this.props.callbackDeslogado&&null!==this.props.callbackDeslogado&&this.props.callbackDeslogado())}},{key:"render",value:function(){var e=this,a=s.a.createElement(b,{callbackSucesso:this.loginFeito.bind(this)});return this.state.logado&&(a=s.a.createElement(f,{nome:this.state.nome,callbackLogout:function(){e.setLogado(!1)}})),s.a.createElement("div",{id:"barraLogin",className:"col-md-2 d-nome d-sm-none d-md-block"},a)}}]),a}(o.Component),k=function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"infosUser"},s.a.createElement("h1",null,this.props.nomeUser),s.a.createElement("h6",null,this.props.email))}}]),a}(o.Component),y=window.$,N=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={url:"/"},t.buscarURLUp=t.buscarURLUp.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.buscarURLUp()}},{key:"buscarURLUp",value:function(){var e=this;y.ajax({url:"https://podcre-223420.appspot.com/api/upPodcast",type:"GET",success:function(a){e.setState({url:a.url})},error:function(){setTimeout(e.buscarURLUp,1e3)}})}},{key:"toggle",value:function(){"none"===y("#formUpPodcast").css("display")?y("#formUpPodcast").css("display","block"):y("#formUpPodcast").css("display","none")}},{key:"setNome",value:function(){var e=y("#nomePodcast").val();this.setCookie("nome",e)}},{key:"setAssunto",value:function(){var e=y("#assuntoPodcast").val();this.setCookie("assunto",e)}},{key:"render",value:function(){return s.a.createElement("div",{id:"upPodcast"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-9"},s.a.createElement("h3",null,"Fa\xe7a upload de um epis\xf3dio:")),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{onClick:this.toggle,type:"button",className:"btn btn-outline-info"},"Upload"))),s.a.createElement("form",{id:"formUpPodcast",style:{display:"none"},action:this.state.url,method:"post",encType:"multipart/form-data"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nomePodcast"},"Nome do epis\xf3dio"),s.a.createElement("input",{type:"text",onChange:this.setNome.bind(this),className:"form-control",id:"nomePodcast",placeholder:"Nome"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"assuntoPodcast"},"Assunto do epis\xf3dio"),s.a.createElement("input",{type:"text",onChange:this.setAssunto.bind(this),className:"form-control",id:"assuntoPodcast",placeholder:"Assunto"})),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"arquivoPodcast",name:"arquivo"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"arquivoPodcast"},"Escolha o arquivo")),s.a.createElement("div",{style:{width:"100%",marginTop:"10px"}},s.a.createElement("input",{type:"submit",className:"btn btn-success ml-auto d-block",value:"enviar"}))))}},{key:"setCookie",value:function(e,a){var t=new Date;t.setTime(t.getTime()+18e5);var o="expires="+t.toGMTString();document.cookie=e+"="+a+"; "+o}},{key:"getCookie",value:function(e){for(var a=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var s=t[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(a))return s.substring(a.length,s.length)}return""}}]),a}(o.Component),j=t(9),O=t.n(j),L=window.$,w=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={likeDado:!1,dislikeDado:!1},t.likeDado=t.likeDado.bind(Object(u.a)(Object(u.a)(t))),t.dislikeDado=t.dislikeDado.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"audioTocado",value:function(){console.log("AUDIO TOCADO: "+this.props.blob)}},{key:"likeDado",value:function(){this.state.likeDado||(L("#like_"+this.props.chave).removeClass("fa-thumbs-o-up"),L("#like_"+this.props.chave).addClass("fa-thumbs-up"),this.setState({likeDado:!0}),this.submeterLike())}},{key:"dislikeDado",value:function(){this.state.dislikeDado||(L("#dislike_"+this.props.chave).removeClass("fa-thumbs-o-down"),L("#dislike_"+this.props.chave).addClass("fa-thumbs-down"),this.setState({dislikeDado:!0}),this.submeterDislike())}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 painelEscutar"},s.a.createElement("h1",null,this.props.nome),s.a.createElement("p",{className:"text-muted"},this.props.assunto),s.a.createElement(O.a,{src:"https://podcre-223420.appspot.com/api/getFile?cod="+this.props.blob,autoPlay:!1,controls:!0,onPlay:this.audioTocado.bind(this)}),s.a.createElement("div",null,s.a.createElement("span",{id:"like_"+this.props.chave,onClick:this.likeDado.bind(this),className:"fa fa-thumbs-o-up","aria-hidden":"true"}," ",this.props.likes),s.a.createElement("span",{id:"dislike_"+this.props.chave,onClick:this.dislikeDado.bind(this),className:"fa fa-thumbs-o-down","aria-hidden":"true"}," ",this.props.dislikes)))}},{key:"submeterLike",value:function(){L.ajax({url:"https://podcre-223420.appspot.com/api/contar?qual=like&cod="+this.props.chave,type:"GET",success:function(){},error:function(){}})}},{key:"submeterDislike",value:function(){L.ajax({url:"https://podcre-223420.appspot.com/api/contar?qual=dislike&cod="+this.props.chave,type:"GET",success:function(){},error:function(){}})}}]),a}(o.Component),U=window.$,D=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={nome:"",email:"",listaPodcasts:[]},t.buscarDados=t.buscarDados.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.buscarDados(),this.buscarDadosPodcasts()}},{key:"buscarDados",value:function(){var e=this;U.ajax({url:"https://podcre-223420.appspot.com/api/user?nome="+this.props.nomeUser,type:"GET",success:function(a){e.setState({nome:a.data.nome_display,email:a.data.email})},error:function(){setTimeout(e.buscarDados,1e3)}})}},{key:"buscarDadosPodcasts",value:function(){var e=this;U.ajax({url:"https://podcre-223420.appspot.com/api/getPodcasts?nome="+this.props.nomeUser,type:"GET",success:function(a){e.setState({listaPodcasts:a.data})},error:function(){setTimeout(e.buscarDados,1e3)}})}},{key:"toggle",value:function(){"none"===U("#painelPodcastsLogado").css("display")?U("#painelPodcastsLogado").css("display","block"):U("#painelPodcastsLogado").css("display","none")}},{key:"render",value:function(){var e=this.state.listaPodcasts.map(function(e){return s.a.createElement(w,{nomeUser:e.nome,nome:e.nome,assunto:e.assunto,likes:e.n_likes,dislikes:e.n_dislikes,blob:e.key_blob,chave:e.chave,key:e.chave})});return s.a.createElement("div",{id:"painelLogado",className:"col-md-8"},s.a.createElement(k,{nomeUser:this.state.nome,email:this.state.email}),s.a.createElement(N,{nomeUser:this.props.nomeUser,email:this.state.email}),s.a.createElement("div",{className:"row",style:{marginTop:"10px"}},s.a.createElement("div",{className:"col-9"},s.a.createElement("h3",null,"Seus podcasts:")),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{onClick:this.toggle,type:"button",className:"btn btn-outline-info"},"Mostrar"))),s.a.createElement("div",{className:"row",id:"painelPodcastsLogado",style:{display:"none"}},e))}}]),a}(o.Component),C=window.$,P=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={lista:[]},t.buscarDados=t.buscarDados.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){for(var e=0;e<this.props.listaNomes.length;e++)this.buscarDados(this.props.listaNomes[e])}},{key:"componentWillReceiveProps",value:function(e){for(var a=0;a<this.props.listaNomes.length;a++)this.buscarDados(this.props.listaNomes[a])}},{key:"buscarDados",value:function(e){var a=this;C.ajax({url:"https://podcre-223420.appspot.com/api/getPodcasts?nome="+e,type:"GET",success:function(t){var o={nome:e,lista:t.data},s=a.state.lista.slice();s.push(o),a.setState({lista:s})},error:function(){setTimeout(a.buscarDados,1e3)}})}},{key:"render",value:function(){for(var e=[],a=0;a<this.state.lista.length;a++){var t=this.state.lista[a].lista.map(function(e){return s.a.createElement(w,{nomeUser:e.nome,nome:e.nome,assunto:e.assunto,likes:e.n_likes,dislikes:e.n_dislikes,blob:e.key_blob,chave:e.chave,key:e.chave})});t.length>0&&e.push(s.a.createElement("div",{className:"row",key:a},s.a.createElement("div",{className:"col-12",style:{textAlign:"right",marginTop:"20px"}},s.a.createElement("h4",null,this.state.lista[a].nome)),t))}return s.a.createElement("div",{id:"painelDeslogado",className:"col-md-8"},s.a.createElement("h1",null,"Principais podcasts"),s.a.createElement("hr",null),e)}}]),a}(o.Component),S=window.$,T=function(e){function a(){return Object(i.a)(this,a),Object(c.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,[{key:"registrar",value:function(){var e={nome:S("#nomeUser").val(),display:S("#nomeDisplay").val(),email:S("#emailUser").val(),senha:S("#senhaUser").val()};S.ajax({url:"https://podcre-223420.appspot.com/api/user",type:"POST",data:JSON.stringify(e),success:function(e){window.location.reload()},error:function(){S("#alertaErroCadastro").css("display","block"),setTimeout(function(){S("#alertaErroCadastro").css("display","none")},2e3)}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"modal fade",id:"cadastrarModal",tabIndex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"modalLabel"},"Cadastrar-se"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{id:"formUpPodcast"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nomeUser"},"Nome de usu\xe1rio"),s.a.createElement("input",{type:"text",className:"form-control",id:"nomeUser",placeholder:"Nome"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nomeDisplay"},"Nome de display"),s.a.createElement("input",{type:"text",className:"form-control",id:"nomeDisplay",placeholder:"Display"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"senhaUser"},"Senha"),s.a.createElement("input",{type:"password",className:"form-control",id:"senhaUser",placeholder:"Escolha uma senha"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"emailUser"},"E-Mail"),s.a.createElement("input",{type:"text",className:"form-control",id:"emailUser",placeholder:"email"})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("div",{className:"alert alert-danger",style:{display:"none"},id:"alertaErroCadastro",role:"alert"},"Falha no cadastro"),s.a.createElement("button",{type:"button",onClick:this.registrar.bind(this),className:"btn btn-primary"},"Cadastrar")))))}}]),a}(o.Component),x=window.$,F=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={url:"/"},t.buscarURLUp=t.buscarURLUp.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.buscarURLUp()}},{key:"buscarURLUp",value:function(){var e=this;x.ajax({url:"https://podcre-223420.appspot.com/api/setImagemPerfil",type:"GET",success:function(a){e.setState({url:a.url})},error:function(){setTimeout(e.buscarURLUp,1e3)}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"modal fade",id:"setarImagem",tabIndex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"modalLabel"},"Atualizar imagem"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{id:"formUpImagem",action:this.state.url,method:"post",encType:"multipart/form-data"},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"arquivoPodcast",name:"arquivo"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"arquivoPodcast"},"Escolha o arquivo")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("div",{className:"alert alert-danger",style:{display:"none"},id:"alertaErroCadastro",role:"alert"},"Falha no envio"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Upload")))))))}}]),a}(o.Component),_=window.$,I=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={estaLogado:!1,nomeUser:"",listaNomes:[]},t.logado=t.logado.bind(Object(u.a)(Object(u.a)(t))),t.deslogado=t.deslogado.bind(Object(u.a)(Object(u.a)(t))),t.preencherLista=t.preencherLista.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.preencherLista()}},{key:"preencherLista",value:function(){var e=this;_.ajax({url:"https://podcre-223420.appspot.com/api/Estatisticas/listaNomes",type:"GET",success:function(a){var t=a.data;e.setState({listaNomes:t}),e.forceUpdate()},error:function(){}})}},{key:"logado",value:function(e){this.setState({nomeUser:e}),this.setState({estaLogado:!0})}},{key:"deslogado",value:function(){this.setState({estaLogado:!1})}},{key:"render",value:function(){var e=null;return e=this.state.estaLogado?s.a.createElement(D,{nomeUser:this.state.nomeUser}):s.a.createElement(P,{listaNomes:this.state.listaNomes}),s.a.createElement("div",null,s.a.createElement(p,{logado:this.state.estaLogado}),s.a.createElement("div",{className:"row",id:"corpo"},s.a.createElement(g,{callbackLogado:this.logado,callbackDeslogado:this.deslogado}),e),s.a.createElement(T,{CallbackLogado:this.logado}),s.a.createElement(F,null))}}]),a}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.982956b9.chunk.js.map