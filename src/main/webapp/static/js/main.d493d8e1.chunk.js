(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var o=a(0),s=a.n(o),n=a(8),l=a.n(n),r=(a(14),a(2)),i=a(3),c=a(6),m=a(4),u=a(5),d=a(1),p=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=s.a.createElement("button",{className:"btn btn-outline-success ml-auto d-block","data-toggle":"modal","data-target":"#cadastrarModal"},"Cadastrar");return!0===this.props.logado&&(e=s.a.createElement("button",{className:"btn btn-outline-success ml-auto d-block","data-toggle":"modal","data-target":"#setarImagem"},"imagem perfil")),s.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},s.a.createElement("h2",{id:"tituloNavBar",className:"d-none d-md-block"},"Podcr\xea",s.a.createElement("small",{className:"text-muted",id:"versionNavbar"}," Alpha")),e)}}]),t}(o.Component),h=window.$,b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={nome:"",senha:""},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"submeter",value:function(){h.ajax({url:"https://podcre-223420.appspot.com/api/Login",data:JSON.stringify(this.state),type:"POST",success:this.sucesso.bind(this),error:this.erro.bind(this)})}},{key:"sucesso",value:function(e){void 0!==this.props.callbackSucesso&&null!==this.props.callbackSucesso&&this.props.callbackSucesso(this.state.nome)}},{key:"erro",value:function(e){h("#mensagemErro").css("display","block"),setTimeout(function(){h("#mensagemErro").css("display","none")},2e3),void 0!==this.props.callbackErro&&null!==this.props.callbackErro&&this.props.callbackErro(e)}},{key:"watcher",value:function(){this.setState({nome:h("#inputNome").val()}),this.setState({senha:h("#inputSenha").val()})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("form",{id:"formLogin"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputNome"},"Login"),s.a.createElement("input",{type:"text",onChange:this.watcher.bind(this),className:"form-control",id:"inputNome",placeholder:"Nome de usu\xe1rio"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"inputSenha"},"Senha"),s.a.createElement("input",{type:"password",onChange:this.watcher.bind(this),className:"form-control",id:"inputSenha",placeholder:"Senha"}))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{onClick:this.submeter.bind(this),className:"btn btn-primary offset-6 col-5"},"Logar")),s.a.createElement("div",{className:"row",id:"mensagemErro",style:{display:"none",marginTop:"5px"}},s.a.createElement("div",{className:"alert alert-danger col-10 offset-1",role:"alert"},"Falha no login")))}}]),t}(o.Component),v=window.$,f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={nome:"Carregando...",urlImg:""},a.getDados(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){v.ajax({url:"https://podcre-223420.appspot.com/api/Login",type:"DELETE",success:this.props.callbackLogout,error:function(){}})}},{key:"getDados",value:function(){v.ajax({url:"https://podcre-223420.appspot.com/api/user?nome="+this.props.nome,type:"GET",success:this.preencher.bind(this),error:function(){}})}},{key:"preencher",value:function(e){e=e.data,this.setState({nome:this.props.nome}),this.setState({urlImg:"https://podcre-223420.appspot.com/api/getFile?cod="+e.imagem_blob})}},{key:"render",value:function(){return s.a.createElement("div",{style:{marginTop:"10px"}},s.a.createElement("img",{src:this.state.urlImg,style:{width:"50%"},className:"img-thumbnail",alt:"Imagem de perfil"}),s.a.createElement("h4",null,this.state.nome),s.a.createElement("div",{className:"row"},s.a.createElement("button",{onClick:this.logout.bind(this),className:"btn btn-outline-danger offset-6 col-5"},"Logout")))}}]),t}(o.Component),E=window.$,g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={logado:!1,nome:""},a.setLogado=a.setLogado.bind(Object(d.a)(Object(d.a)(a))),a.checarLogado=a.checarLogado.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.checarLogado()}},{key:"loginFeito",value:function(e){this.setState({nome:e}),this.setLogado(!0)}},{key:"checarLogado",value:function(){var e=this;E.ajax({url:"https://podcre-223420.appspot.com/api/Login",type:"GET",success:function(t){e.setState({nome:t.nome}),e.setLogado(!0)},error:function(t){e.setLogado(!1)}})}},{key:"setLogado",value:function(e){e?(this.setState({logado:!0}),void 0!==this.props.callbackLogado&&null!==this.props.callbackLogado&&this.props.callbackLogado(this.state.nome)):(this.setState({logado:!1}),void 0!==this.props.callbackDeslogado&&null!==this.props.callbackDeslogado&&this.props.callbackDeslogado())}},{key:"render",value:function(){var e=this,t=s.a.createElement(b,{callbackSucesso:this.loginFeito.bind(this)});return this.state.logado&&(t=s.a.createElement(f,{nome:this.state.nome,callbackLogout:function(){e.setLogado(!1)}})),s.a.createElement("div",{id:"barraLogin",className:"col-md-2 d-nome d-sm-none d-md-block"},t)}}]),t}(o.Component),y=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"infosUser"},s.a.createElement("h1",null,this.props.nomeUser),s.a.createElement("h6",null,this.props.email))}}]),t}(o.Component),k=window.$,N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={url:"/"},a.buscarURLUp=a.buscarURLUp.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.buscarURLUp()}},{key:"buscarURLUp",value:function(){var e=this;k.ajax({url:"https://podcre-223420.appspot.com/api/upPodcast",type:"GET",success:function(t){e.setState({url:t.url})},error:function(){setTimeout(e.buscarURLUp,1e3)}})}},{key:"toggle",value:function(){"none"===k("#formUpPodcast").css("display")?k("#formUpPodcast").css("display","block"):k("#formUpPodcast").css("display","none")}},{key:"setNome",value:function(){var e=k("#nomePodcast").val();this.setCookie("nome",e)}},{key:"setAssunto",value:function(){var e=k("#assuntoPodcast").val();this.setCookie("assunto",e)}},{key:"render",value:function(){return s.a.createElement("div",{id:"upPodcast"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-9"},s.a.createElement("h3",null,"Fa\xe7a upload de um epis\xf3dio:")),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{onClick:this.toggle,type:"button",className:"btn btn-outline-info"},"Upload"))),s.a.createElement("form",{id:"formUpPodcast",style:{display:"none"},action:this.state.url,method:"post",encType:"multipart/form-data"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nomePodcast"},"Nome do epis\xf3dio"),s.a.createElement("input",{type:"text",onChange:this.setNome.bind(this),className:"form-control",id:"nomePodcast",placeholder:"Nome"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"assuntoPodcast"},"Assunto do epis\xf3dio"),s.a.createElement("input",{type:"text",onChange:this.setAssunto.bind(this),className:"form-control",id:"assuntoPodcast",placeholder:"Assunto"})),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"arquivoPodcast",name:"arquivo"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"arquivoPodcast"},"Escolha o arquivo")),s.a.createElement("div",{style:{width:"100%",marginTop:"10px"}},s.a.createElement("input",{type:"submit",className:"btn btn-success ml-auto d-block",value:"enviar"}))))}},{key:"setCookie",value:function(e,t){var a=new Date;a.setTime(a.getTime()+18e5);var o="expires="+a.toGMTString();document.cookie=e+"="+t+"; "+o}},{key:"getCookie",value:function(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var s=a[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}}]),t}(o.Component),j=window.audiojs,O=window.$,L=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){j.events.ready(function(){j.createAll()})}},{key:"likeDado",value:function(){O("#like_"+this.props.chave).removeClass("fa-thumbs-o-up"),O("#like_"+this.props.chave).addClass("fa-thumbs-up"),this.submeterLike()}},{key:"dislikeDado",value:function(){O("#dislike_"+this.props.chave).removeClass("fa-thumbs-o-down"),O("#dislike_"+this.props.chave).addClass("fa-thumbs-down"),this.submeterDislike()}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-12 painelEscutar"},s.a.createElement("h1",null,this.props.nome),s.a.createElement("p",{className:"text-muted"},this.props.assunto),s.a.createElement("audio",{src:"https://podcre-223420.appspot.com/api/getFile?cod="+this.props.blob,preload:"auto"}),s.a.createElement("span",{id:"like_"+this.props.chave,onClick:this.likeDado.bind(this),className:"fa fa-thumbs-o-up","aria-hidden":"true",style:{position:"absolute",left:"500px",bottom:"10px",cursor:"pointer"}}," ",this.props.likes),s.a.createElement("span",{id:"dislike_"+this.props.chave,onClick:this.dislikeDado.bind(this),className:"fa fa-thumbs-o-down","aria-hidden":"true",style:{position:"absolute",left:"550px",bottom:"10px",cursor:"pointer"}}," ",this.props.dislikes))}},{key:"submeterLike",value:function(){O.ajax({url:"https://podcre-223420.appspot.com/api/contar?qual=like&cod="+this.props.chave,type:"GET",success:function(){},error:function(){}})}},{key:"submeterDislike",value:function(){O.ajax({url:"https://podcre-223420.appspot.com/api/contar?qual=dislike&cod="+this.props.chave,type:"GET",success:function(){},error:function(){}})}}]),t}(o.Component),w=window.$,U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={nome:"",email:"",listaPodcasts:[]},a.buscarDados=a.buscarDados.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.buscarDados(),this.buscarDadosPodcasts()}},{key:"buscarDados",value:function(){var e=this;w.ajax({url:"https://podcre-223420.appspot.com/api/user?nome="+this.props.nomeUser,type:"GET",success:function(t){e.setState({nome:t.data.nome_display,email:t.data.email})},error:function(){setTimeout(e.buscarDados,1e3)}})}},{key:"buscarDadosPodcasts",value:function(){var e=this;w.ajax({url:"https://podcre-223420.appspot.com/api/getPodcasts?nome="+this.props.nomeUser,type:"GET",success:function(t){e.setState({listaPodcasts:t.data})},error:function(){setTimeout(e.buscarDados,1e3)}})}},{key:"toggle",value:function(){"none"===w("#painelPodcastsLogado").css("display")?w("#painelPodcastsLogado").css("display","block"):w("#painelPodcastsLogado").css("display","none")}},{key:"render",value:function(){var e=this.state.listaPodcasts.map(function(e){return s.a.createElement(L,{nomeUser:e.nome,nome:e.nome,assunto:e.assunto,likes:e.n_likes,dislikes:e.n_dislikes,blob:e.key_blob,chave:e.chave,key:e.chave})});return s.a.createElement("div",{id:"painelLogado",className:"col-md-8"},s.a.createElement(y,{nomeUser:this.state.nome,email:this.state.email}),s.a.createElement(N,{nomeUser:this.props.nomeUser,email:this.state.email}),s.a.createElement("div",{className:"row",style:{marginTop:"10px"}},s.a.createElement("div",{className:"col-9"},s.a.createElement("h3",null,"Seus podcasts:")),s.a.createElement("div",{className:"col-3"},s.a.createElement("button",{onClick:this.toggle,type:"button",className:"btn btn-outline-info"},"Mostrar"))),s.a.createElement("div",{className:"row",id:"painelPodcastsLogado",style:{display:"none"}},e))}}]),t}(o.Component),C=window.$,D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={lista:[]},a.buscarDados=a.buscarDados.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){for(var e=0;e<this.props.listaNomes.length;e++)this.buscarDados(this.props.listaNomes[e])}},{key:"componentWillReceiveProps",value:function(e){for(var t=0;t<this.props.listaNomes.length;t++)this.buscarDados(this.props.listaNomes[t])}},{key:"buscarDados",value:function(e){var t=this;C.ajax({url:"https://podcre-223420.appspot.com/api/getPodcasts?nome="+e,type:"GET",success:function(a){var o={nome:e,lista:a.data},s=t.state.lista.slice();s.push(o),t.setState({lista:s})},error:function(){setTimeout(t.buscarDados,1e3)}})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.lista.length;t++){var a=this.state.lista[t].lista.map(function(e){return s.a.createElement(L,{nomeUser:e.nome,nome:e.nome,assunto:e.assunto,likes:e.n_likes,dislikes:e.n_dislikes,blob:e.key_blob,chave:e.chave,key:e.chave})});a.length>0&&e.push(s.a.createElement("div",{className:"row",key:t},s.a.createElement("div",{className:"col-12",style:{textAlign:"right"}},s.a.createElement("h4",null,this.state.lista[t].nome)),a))}return s.a.createElement("div",{id:"painelDeslogado",className:"col-md-8"},s.a.createElement("h1",null,"Principais podcasts"),s.a.createElement("hr",null),e)}}]),t}(o.Component),x=window.$,P=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"registrar",value:function(){var e={nome:x("#nomeUser").val(),display:x("#nomeDisplay").val(),email:x("#emailUser").val(),senha:x("#senhaUser").val()};x.ajax({url:"https://podcre-223420.appspot.com/api/user",type:"POST",data:JSON.stringify(e),success:function(e){window.location.reload()},error:function(){x("#alertaErroCadastro").css("display","block"),setTimeout(function(){x("#alertaErroCadastro").css("display","none")},2e3)}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"modal fade",id:"cadastrarModal",tabIndex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"modalLabel"},"Cadastrar-se"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{id:"formUpPodcast"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nomeUser"},"Nome de usu\xe1rio"),s.a.createElement("input",{type:"text",className:"form-control",id:"nomeUser",placeholder:"Nome"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nomeDisplay"},"Nome de display"),s.a.createElement("input",{type:"text",className:"form-control",id:"nomeDisplay",placeholder:"Display"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"senhaUser"},"Senha"),s.a.createElement("input",{type:"password",className:"form-control",id:"senhaUser",placeholder:"Escolha uma senha"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"emailUser"},"E-Mail"),s.a.createElement("input",{type:"text",className:"form-control",id:"emailUser",placeholder:"email"})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("div",{className:"alert alert-danger",style:{display:"none"},id:"alertaErroCadastro",role:"alert"},"Falha no cadastro"),s.a.createElement("button",{type:"button",onClick:this.registrar.bind(this),className:"btn btn-primary"},"Cadastrar")))))}}]),t}(o.Component),S=window.$,T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={url:"/"},a.buscarURLUp=a.buscarURLUp.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.buscarURLUp()}},{key:"buscarURLUp",value:function(){var e=this;S.ajax({url:"https://podcre-223420.appspot.com/api/setImagemPerfil",type:"GET",success:function(t){e.setState({url:t.url})},error:function(){setTimeout(e.buscarURLUp,1e3)}})}},{key:"render",value:function(){return s.a.createElement("div",{className:"modal fade",id:"setarImagem",tabIndex:"-1",role:"dialog","aria-labelledby":"modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title",id:"modalLabel"},"Atualizar imagem"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{id:"formUpPodcast",action:this.state.url,method:"post",encType:"multipart/form-data"},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{type:"file",className:"custom-file-input",id:"arquivoPodcast",name:"arquivo"}),s.a.createElement("label",{className:"custom-file-label",htmlFor:"arquivoPodcast"},"Escolha o arquivo")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("div",{className:"alert alert-danger",style:{display:"none"},id:"alertaErroCadastro",role:"alert"},"Falha no envio"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Upload")))))))}}]),t}(o.Component),F=window.$,_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={estaLogado:!1,nomeUser:"",listaNomes:[]},a.logado=a.logado.bind(Object(d.a)(Object(d.a)(a))),a.deslogado=a.deslogado.bind(Object(d.a)(Object(d.a)(a))),a.preencherLista=a.preencherLista.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.preencherLista()}},{key:"preencherLista",value:function(){var e=this;F.ajax({url:"https://podcre-223420.appspot.com/api/Estatisticas/listaNomes",type:"GET",success:function(t){var a=t.data;e.setState({listaNomes:a}),e.forceUpdate()},error:function(){}})}},{key:"logado",value:function(e){this.setState({nomeUser:e}),this.setState({estaLogado:!0})}},{key:"deslogado",value:function(){this.setState({estaLogado:!1})}},{key:"render",value:function(){var e=null;return e=this.state.estaLogado?s.a.createElement(U,{nomeUser:this.state.nomeUser}):s.a.createElement(D,{listaNomes:this.state.listaNomes}),s.a.createElement("div",null,s.a.createElement(p,{logado:this.state.estaLogado}),s.a.createElement("div",{className:"row",id:"corpo"},s.a.createElement(g,{callbackLogado:this.logado,callbackDeslogado:this.deslogado}),e),s.a.createElement(P,{CallbackLogado:this.logado}),s.a.createElement(T,null))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.d493d8e1.chunk.js.map