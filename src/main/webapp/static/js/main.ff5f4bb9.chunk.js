(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(8),c=a.n(s),r=(a(14),a(2)),i=a(3),l=a(6),u=a(4),m=a(5),d=a(1),p=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},n.a.createElement("h2",{id:"tituloNavBar",className:"d-none d-md-block"},"Podcr\xea",n.a.createElement("small",{className:"text-muted",id:"versionNavbar"}," Alpha")))}}]),t}(o.Component),h=window.$,b=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={nome:"",senha:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"submeter",value:function(){h.ajax({url:"https://podcre-223420.appspot.com/api/Login",data:JSON.stringify(this.state),type:"POST",success:this.sucesso.bind(this),error:this.erro.bind(this)})}},{key:"sucesso",value:function(e){void 0!==this.props.callbackSucesso&&null!==this.props.callbackSucesso&&this.props.callbackSucesso(this.state.nome)}},{key:"erro",value:function(e){h("#mensagemErro").css("display","block"),setTimeout(function(){h("#mensagemErro").css("display","none")},2e3),void 0!==this.props.callbackErro&&null!==this.props.callbackErro&&this.props.callbackErro(e)}},{key:"watcher",value:function(){this.setState({nome:h("#inputNome").val()}),this.setState({senha:h("#inputSenha").val()})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("form",{id:"formLogin"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"inputNome"},"Login"),n.a.createElement("input",{type:"text",onChange:this.watcher.bind(this),className:"form-control",id:"inputNome",placeholder:"Nome de usu\xe1rio"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"inputSenha"},"Senha"),n.a.createElement("input",{type:"password",onChange:this.watcher.bind(this),className:"form-control",id:"inputSenha",placeholder:"Senha"}))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{onClick:this.submeter.bind(this),className:"btn btn-primary offset-6 col-5"},"Logar")),n.a.createElement("div",{className:"row",id:"mensagemErro",style:{display:"none",marginTop:"5px"}},n.a.createElement("div",{className:"alert alert-danger col-10 offset-1",role:"alert"},"Falha no login")))}}]),t}(o.Component),f=window.$,g=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={nome:"Carregando...",urlImg:""},a.getDados(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){f.ajax({url:"https://podcre-223420.appspot.com/api/Login",type:"DELETE",success:this.props.callbackLogout,error:function(){}})}},{key:"getDados",value:function(){f.ajax({url:"https://podcre-223420.appspot.com/api/user?nome="+this.props.nome,type:"GET",success:this.preencher.bind(this),error:function(){}})}},{key:"preencher",value:function(e){e=e.data,this.setState({nome:e.nome_display}),this.setState({urlImg:"https://podcre-223420.appspot.com/api/getFile?cod="+e.imagem_blob})}},{key:"render",value:function(){return n.a.createElement("div",{style:{marginTop:"10px"}},n.a.createElement("img",{src:this.state.urlImg,style:{width:"50%"},className:"img-thumbnail",alt:"Imagem de perfil"}),n.a.createElement("h4",null,this.state.nome),n.a.createElement("div",{className:"row"},n.a.createElement("button",{onClick:this.logout.bind(this),className:"btn btn-outline-danger offset-6 col-5"},"Logout")))}}]),t}(o.Component),v=window.$,E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={logado:!1,nome:""},a.setLogado=a.setLogado.bind(Object(d.a)(Object(d.a)(a))),a.checarLogado=a.checarLogado.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.checarLogado()}},{key:"loginFeito",value:function(e){this.setState({nome:e}),this.setLogado(!0)}},{key:"checarLogado",value:function(){var e=this;v.ajax({url:"https://podcre-223420.appspot.com/api/Login",type:"GET",success:function(t){e.setState({nome:t.nome}),e.setLogado(!0)},error:function(t){e.setLogado(!1)}})}},{key:"setLogado",value:function(e){e?(this.setState({logado:!0}),void 0!==this.props.callbackLogado&&null!==this.props.callbackLogado&&this.props.callbackLogado(this.state.nome)):(this.setState({logado:!1}),void 0!==this.props.callbackDeslogado&&null!==this.props.callbackDeslogado&&this.props.callbackDeslogado())}},{key:"render",value:function(){var e=this,t=n.a.createElement(b,{callbackSucesso:this.loginFeito.bind(this)});return this.state.logado&&(t=n.a.createElement(g,{nome:"jovemnerd",callbackLogout:function(){e.setLogado(!1)}})),n.a.createElement("div",{id:"barraLogin",className:"col-md-2"},t)}}]),t}(o.Component),k=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{id:"infosUser"},n.a.createElement("h1",null,this.props.nomeUser),n.a.createElement("h6",null,this.props.email))}}]),t}(o.Component),y=window.$,j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={url:"/"},a.buscarURLUp=a.buscarURLUp.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.buscarURLUp()}},{key:"buscarURLUp",value:function(){var e=this;y.ajax({url:"https://podcre-223420.appspot.com/api/upPodcast",type:"GET",success:function(t){e.setState({url:t.url})},error:function(){setTimeout(e.buscarURLUp,1e3)}})}},{key:"toggle",value:function(){"none"===y("#formUpPodcast").css("display")?y("#formUpPodcast").css("display","block"):y("#formUpPodcast").css("display","none")}},{key:"setNome",value:function(){var e=y("#nomePodcast").val();this.setCookie("nome",e)}},{key:"setAssunto",value:function(){var e=y("#assuntoPodcast").val();this.setCookie("assunto",e)}},{key:"render",value:function(){return n.a.createElement("div",{id:"upPodcast"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-9"},n.a.createElement("h3",null,"Fa\xe7a upload de um epis\xf3dio:")),n.a.createElement("div",{className:"col-3"},n.a.createElement("button",{onClick:this.toggle,type:"button",className:"btn btn-outline-info"},"Upload"))),n.a.createElement("form",{id:"formUpPodcast",style:{display:"none"},action:this.state.url,method:"post",enctype:"multipart/form-data"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"nomePodcast"},"Nome do epis\xf3dio"),n.a.createElement("input",{type:"text",onChange:this.setNome.bind(this),className:"form-control",id:"nomePodcast",placeholder:"Nome"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"assuntoPodcast"},"Assunto do epis\xf3dio"),n.a.createElement("input",{type:"text",onChange:this.setAssunto.bind(this),className:"form-control",id:"assuntoPodcast",placeholder:"Assunto"})),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:"custom-file-input",id:"arquivoPodcast",name:"arquivo"}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"arquivoPodcast"},"Escolha o arquivo")),n.a.createElement("div",{style:{width:"100%",marginTop:"10px"}},n.a.createElement("input",{type:"submit",className:"btn btn-success ml-auto d-block",value:"enviar"}))))}},{key:"setCookie",value:function(e,t){var a=new Date;a.setTime(a.getTime()+18e5);var o="expires="+a.toGMTString();document.cookie=e+"="+t+"; "+o}},{key:"getCookie",value:function(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""}}]),t}(o.Component),O=window.$,N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={nome:"",email:""},a.buscarDados=a.buscarDados.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.buscarDados()}},{key:"buscarDados",value:function(){var e=this;O.ajax({url:"https://podcre-223420.appspot.com/api/user?nome="+this.props.nomeUser,type:"GET",success:function(t){e.setState({nome:t.data.nome_display,email:t.data.email})},error:function(){setTimeout(e.buscarDados,1e3)}})}},{key:"render",value:function(){return n.a.createElement("div",{id:"painelLogado",className:"col-md-8"},n.a.createElement(k,{nomeUser:this.state.nome,email:this.state.email}),n.a.createElement(j,{nomeUser:this.props.nomeUser,email:this.state.email}))}}]),t}(o.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={nomeUser:""},a.logado=a.logado.bind(Object(d.a)(Object(d.a)(a))),a.deslogado=a.deslogado.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"logado",value:function(e){console.log(e),this.setState({nomeUser:e})}},{key:"deslogado",value:function(){console.log("[DESLOGADO]")}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(p,null),n.a.createElement("div",{className:"row",id:"corpo"},n.a.createElement(E,{callbackLogado:this.logado,callbackDeslogado:this.deslogado}),n.a.createElement(N,{nomeUser:this.state.nomeUser})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.ff5f4bb9.chunk.js.map